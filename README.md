Plog
====

Plog is short for "Parse Log", it's a log-handle framework  designed for handling and analyzing log file generated from Apache, nginx etc,.

Inspired by [FlumeNG](http://flume.apache.org/), I divied the project into four parts:**source**,**channel** ,**sink **and **common fuctions**. and I have complete the common functions  like the deal-interval-control,the thread-control and some simple functions of source,channel and sink.

The following is a demo  configuration file.

```
[xluren@test Plog]$ cat plog.conf
[source]

#the type of in put ,we will support file,exec,TCP
#the file type config
source_type=file
source_module=tail_log
source_sleep_interval=5
source_path=/home/xluren/project/python/github/Plog/test/output

########the exec config#########
#source_type=exec
#source_module=run_exec
#source_cmd=tail -f /var/log/httpd/access_log
########the tcp config###########
#source_type=TCP
#source_module=read_server
#source_port=8899

[channel]
channel_module=filter_log
channel_filter_regex=([\w\d.]{0,})\s([0-9.]+)\s(\d+|-)\s(\w+)\s\[([^\[\]]+)\s\+\d+\]\s"((?:[^"]|\")+)"\s(\d{3})\s(\d+|-)\s"((?:[^"]|\")+|-)"\s"(.+|-)"\s"((?:[^"]|\")+)"\s"(.+|-)"$
#key of the filtered value
channel_dict_key=domain_name,ip,response_time,TCP_status,date_time,request_url,response_code,size,ref,item1,agent,item2

[sink]
#处理日志的间隔
interval=30
#日志的时间格式，用于解析
datetime_format=%d/%b/%Y:%H:%M:%S

######sink_type
sink_type=file
sink_file=/tmp/hello
sink_module=cacheL2get_monitor
#####sink to zabbix
#a demo used to parse log and collect data
#send the calculated data to zabbix_proxy
#the command is  zabbix -s proxy_server -i zabbix_send_info
#the zabbix_send_info's content is:
#<host> <key> <value>
#eg:
#cat zabbix_send_info |less
#test001 TCP_HITS 59
#test001 TCP_MISS 0
#
sink_type=zabbix
sink_zabbix_send_file=/tmp/zabbix_send_info
sink_zabbix_monitor_service=pic_cdn_
sink_zabbix_monitor_keys=TCP_HIT,TCP_MISS,TCP_ERROR
#the send command
sink_zabbix_send_cmd=/usr/bin/zabbix_sender -s proxy_server -i

####sink to mysql
#sink_type=mysql
#sink_module=send_mysql

[log_config]
#this module i use logging config,refer:https://docs.python.org/2/howto/logging.html
logging_format=%(asctime)s %(filename)s [funcname:%(funcName)s] [line:%(lineno)d] %(levelname)s %(message)s
#####################
#Level      Numeric value
#CRITICAL   50
#ERROR      40
#WARNING    30
#INFO       20
#DEBUG      10
#NOTSET     0
logging_level=20
logging_filename=/tmp/hello_Plog

[pid_config]
pid_file=/var/run/plog.pid
daemon=no
```

I use [ConfigParse](https://docs.python.org/2/library/configparser.html) to parse the configue file.

####The Part of Source
In this part,we  deal with the input ,its type may be file ,exec,TCP socket ,and so on ,but I don't care about the type of ur input,you just need to complete a python script,and its name depends on ur inteest,what you need is to write the name in **plog.conf**,like following:
```
source_module=self-define-script-name
```
and in the self-define-script, you should complete a function like the folllowing :
```
def yield_line(source_option_dict):
```
*   intput
    *   The function has only one arg-**source_option_dict**,its type is a dict,the dict contains all  the options you need,also the options is defined by you in the plog.conf.
*   ouput
    *   Its output's type is a yield iter. like **yield line**, and the line is your code read from stdin,file,or TCP socket


####The Part of Channel
In this part,we deal with parsing log into some groups of value.you also need to complete a python script,and its name also depends on your interest,what you need is to write the name in **plog.conf**,like following:
```
channel_module=filter_log
```
complete a function like followings
```
def parse_str(source_iter,channel_option_dict,dict_queue):
```
*   input
    *   **source_iter**,which generated by souce part;
    *   **channel_option_dict**,which contains all the option you need ,also you should configue what options you need in plog.conf
    *   **dict_queue**,it is a queue to contain the output,the item in the queue is a dict,IRC type.

The function of **parse_str** will through the source iter and parse the string ,then the parsed value will be combined with the **channel_dict_key** into a dict,and put into the **dict_queue**

*   output
    *   the ouput is a queue used as a communicate tool between two threads,that is dict_queue,which contains all the parse result,but you dont need to return ,cause,it is passed  as a arg

####The Part of Sink
In this part,you also need to complete a python script,and its name also depends on your interest,what you need is to write the name in **plog.conf**,like following:
```
sink_module=cacheL2get_monitor
```
complete a function like followings
```
    def deal_sink(dict_list,sink_option_dict):
```
*   input:
    *   **dict_list** the finaly result you need to deal, like calculating it ,storing it in a file  or send it through TCP soucket,and so on.
    *   **sink_option_dict** which contains all the option you need ,also you should configue what options you need in plog.conf
*   ouput:
    *   it's up to you,in the demo,i store the final result in a file, and call '**/usr/bin/zabbix_sender -z  zabbix_server   -i  output_file**',send the calculated result to zabbix_server


####How  To Run A Demo
1.git clone https://github.com/xluren/Plog

2.cd Plog,exec pwd get the current_path

3.modify the plog.conf,change **source_path** to ${current_path}/demo/output

4.run **nohup sh ./demo/create_log.sh &**

5.run sudo python plog.py -f plog.conf

6.you will see a file,its contents like followings:
```
[xluren@test Plog]$ cat /tmp/zabbix_send_info
test.145 pic_cdn_TCP_HIT 0
test.145 pic_cdn_TCP_MISS 0
test.145 pic_cdn_TCP_ERROR 0
[xluren@test Plog]$
```
#### cpu test result
in 60s,plog deal with about 16k+ lines log ,the cpu comsume result like follows:
```
07:17:19 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:20 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:20 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:20 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:20 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:21 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:21 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:21 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:21 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:22 PM      1193   14.00    0.00    0.00   14.00     1  python2.6
07:17:22 PM      1194   14.00    0.00    0.00   14.00     1  python2.6
07:17:22 PM      1195   14.00    0.00    0.00   14.00     0  python2.6

07:17:22 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:23 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:23 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:23 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:23 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:24 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:24 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:24 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:24 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:25 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:25 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:25 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:25 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:26 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:26 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:26 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:26 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:27 PM      1193   15.00    1.00    0.00   16.00     1  python2.6
07:17:27 PM      1194   15.00    1.00    0.00   16.00     1  python2.6
07:17:27 PM      1195   15.00    1.00    0.00   16.00     0  python2.6

07:17:27 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:28 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:28 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:28 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:28 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:29 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:29 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:29 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:29 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:30 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:30 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:30 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:30 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:31 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:31 PM      1194    0.00    0.00    0.00    0.00     1  python2.6
07:17:31 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:31 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:32 PM      1193   16.00    0.00    0.00   16.00     1  python2.6
07:17:32 PM      1194   16.00    0.00    0.00   16.00     3  python2.6
07:17:32 PM      1195   16.00    0.00    0.00   16.00     0  python2.6

07:17:32 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:33 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:33 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:33 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:33 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:34 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:34 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:34 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:34 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:35 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:35 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:35 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:35 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:36 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:36 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:36 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:36 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:37 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:37 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:37 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:37 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:38 PM      1193   16.00    0.00    0.00   16.00     1  python2.6
07:17:38 PM      1194   16.00    0.00    0.00   16.00     3  python2.6
07:17:38 PM      1195   16.00    0.00    0.00   16.00     0  python2.6

07:17:38 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:39 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:39 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:39 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:39 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:40 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:40 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:40 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:40 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:41 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:41 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:41 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:41 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:42 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:42 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:42 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:42 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:43 PM      1193   16.00    0.00    0.00   16.00     1  python2.6
07:17:43 PM      1194   16.00    0.00    0.00   16.00     3  python2.6
07:17:43 PM      1195   16.00    0.00    0.00   16.00     0  python2.6

07:17:43 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:44 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:44 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:44 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:44 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:45 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:45 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:45 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:45 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:46 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:46 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:46 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:46 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:47 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:47 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:47 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:47 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:48 PM      1193   15.00    0.00    0.00   15.00     1  python2.6
07:17:48 PM      1194   15.00    0.00    0.00   15.00     3  python2.6
07:17:48 PM      1195   15.00    0.00    0.00   15.00     0  python2.6

07:17:48 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:49 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:49 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:49 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:49 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:50 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:50 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:50 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:50 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:51 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:51 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:51 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:51 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:52 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:52 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:52 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:52 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:53 PM      1193   16.00    0.00    0.00   16.00     1  python2.6
07:17:53 PM      1194   16.00    0.00    0.00   16.00     3  python2.6
07:17:53 PM      1195   16.00    0.00    0.00   16.00     0  python2.6

07:17:53 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:54 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:54 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:54 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:54 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:55 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:55 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:55 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:55 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:56 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:56 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:56 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:56 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:57 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:57 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:57 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:57 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:58 PM      1193   15.00    1.00    0.00   16.00     1  python2.6
07:17:58 PM      1194   15.00    1.00    0.00   16.00     3  python2.6
07:17:58 PM      1195   15.00    1.00    0.00   16.00     0  python2.6

07:17:58 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:17:59 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:17:59 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:17:59 PM      1195    0.00    0.00    0.00    0.00     0  python2.6

07:17:59 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:00 PM      1193   51.00    1.00    0.00   52.00     1  python2.6
07:18:00 PM      1194   51.00    1.00    0.00   52.00     3  python2.6
07:18:00 PM      1195   51.00    1.00    0.00   52.00     0  python2.6

07:18:00 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:01 PM      1193   59.00    2.00    0.00   61.00     1  python2.6
07:18:01 PM      1194   59.00    2.00    0.00   61.00     3  python2.6
07:18:01 PM      1195   59.00    2.00    0.00   61.00     1  python2.6

07:18:01 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:02 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:02 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:02 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:02 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:03 PM      1193   15.00    1.00    0.00   16.00     1  python2.6
07:18:03 PM      1194   15.00    1.00    0.00   16.00     3  python2.6
07:18:03 PM      1195   15.00    1.00    0.00   16.00     1  python2.6

07:18:03 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:04 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:04 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:04 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:04 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:05 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:05 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:05 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:05 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:06 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:06 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:06 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:06 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:07 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:07 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:07 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:07 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:08 PM      1193    3.00    0.00    0.00    3.00     1  python2.6
07:18:08 PM      1194    3.00    0.00    0.00    3.00     3  python2.6
07:18:08 PM      1195    3.00    0.00    0.00    3.00     1  python2.6

07:18:08 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:09 PM      1193   12.00    0.00    0.00   12.00     1  python2.6
07:18:09 PM      1194   12.00    0.00    0.00   12.00     3  python2.6
07:18:09 PM      1195   12.00    0.00    0.00   12.00     1  python2.6

07:18:09 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:10 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:10 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:10 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:10 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:11 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:11 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:11 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:11 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:12 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:12 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:12 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:12 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:13 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:13 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:13 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:13 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:14 PM      1193    7.00    0.00    0.00    7.00     1  python2.6
07:18:14 PM      1194    7.00    0.00    0.00    7.00     3  python2.6
07:18:14 PM      1195    7.00    0.00    0.00    7.00     1  python2.6

07:18:14 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:15 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:15 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:15 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:15 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:16 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:16 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:16 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:16 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:17 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:17 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:17 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:17 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:18 PM      1193    0.00    0.00    0.00    0.00     1  python2.6
07:18:18 PM      1194    0.00    0.00    0.00    0.00     3  python2.6
07:18:18 PM      1195    0.00    0.00    0.00    0.00     1  python2.6

07:18:18 PM       PID    %usr %system  %guest    %CPU   CPU  Command
07:18:19 PM      1193   16.00    1.00    0.00   17.00     1  python2.6
07:18:19 PM      1194   16.00    1.00    0.00   17.00     3  python2.6
07:18:19 PM      1195   16.00    1.00    0.00   17.00     1  python2.6

Average:          PID    %usr %system  %guest    %CPU   CPU  Command
Average:         1193    4.77    0.12    0.00    4.88     -  python2.6
Average:         1194    4.77    0.12    0.00    4.88     -  python2.6
Average:         1195    4.77    0.12    0.00    4.88     -  python2.6
```



-----

In  China,we name Nov 11  as "Single Day",but in the day of  Nov 11 2014,I fix the bug of plog and also restruct it . So today  I am very happy,event more than that  I have a girlfriend :-)

